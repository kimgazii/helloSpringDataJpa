<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">

<head>
    <title>SpringBoot Security</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">
</head>

<body>
<div class="container mt-5">
    <div class="text-center mb-4">
        <h2>๐ ์คํ๋ง ๋ถํธ ๋ณด์ ์ฌ์ดํธ์ ์ค์ ๊ฒ์ ํ์ํฉ๋๋ค!</h2>
    </div>

    <!-- ๋ก๊ทธ์ธํ ์ฌ์ฉ์ -->
    <div sec:authorize="isAuthenticated()" class="card p-4 shadow-sm">
        <p class="mb-3">๐ค <strong><span sec:authentication="principal.username">User</span></strong>๋ ํ์ํฉ๋๋ค!</p>

        <div th:if="${param.success}">
            <div class="alert alert-success" role="alert">
                โ ๋ก๊ทธ์ธ์ ์ฑ๊ณตํ์ต๋๋ค. ํ์ํฉ๋๋ค!
            </div>
        </div>

        <form th:action="@{/logout}" method="post" class="mb-3">
            <button type="submit" class="btn btn-outline-danger">๋ก๊ทธ์์</button>
        </form>

        <a th:href="@{/products}" class="btn btn-primary mb-3">๐ฆ ์ํ ๋ชฉ๋ก ์กฐํ</a>

        <div sec:authorize="hasRole('ROLE_ADMIN')" class="mt-3">
            <h5>๐ ๊ด๋ฆฌ์ ์์ฉ ๋ฉ๋ด</h5>
            <a th:href="@{/admin/home}" class="btn btn-warning">๊ด๋ฆฌ์ ํ</a>
        </div>

        <div class="mt-3">
            <h6>๐ก ํ์ฌ ์ฌ์ฉ์ ๊ถํ:</h6>
            <ul class="list-group">
                <li class="list-group-item" th:each="authority : ${#authentication.authorities}"
                    th:text="${authority.getAuthority()}">ROLE</li>
            </ul>
        </div>
    </div>

    <!-- ๋ก๊ทธ์ธ ์ ํ ์ฌ์ฉ์ -->
    <div sec:authorize="isAnonymous()" class="text-center mt-5">
        <p><a th:href="@{/login}" class="btn btn-success me-2">๋ก๊ทธ์ธ</a>
            <a th:href="@{/signup}" class="btn btn-outline-secondary">ํ์๊ฐ์</a></p>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoAZJy0pOer+AfD5VXWfVZlAUa0xNfQ0aEw+7F7bPjD1L3y"
        crossorigin="anonymous"></script>
</body>
</html>